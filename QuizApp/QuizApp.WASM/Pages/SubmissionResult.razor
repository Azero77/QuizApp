@page "/submissionResult"
@inject NavigationManager NavigationManager
@if (submission is not null)
{
    <ExamView Id="@examId"
        submissionName="@submission.SubmissionPersonName"
              Corrected="true"/>
}
else
{
    <MudProgressCircular Color="Color.Info"
                         Indeterminate="true"
                         Size="Size.Large"
                         Style="height:30vh;width:30vh;align-self:center;margin-top:15%" />
}
@code {
    [Parameter]
    [SupplyParameterFromQuery]
    public string submissionId { get; set; } = null!;

    [Parameter]
    [SupplyParameterFromQuery]
    public string examId { get; set; } = null!;

    private Submission? submission = null;

    [Inject]
    public ExamsClient _client { get; set; } = null!;

    protected override async Task OnParametersSetAsync()
    {
        submission = await InitializeSubmission();
    }

    private Task<Submission?> InitializeSubmission()
    {
        if (submissionId is not null)
            return _client.GetSubmission(submissionId);
        else
            //return Task with null
            return Task.FromResult<Submission?>(null);
    }
}
