@inherits LayoutComponentBase
@inject IJSRuntime JSRuntime
@* Required *@
<MudRTLProvider>
    <MudThemeProvider />
    <MudPopoverProvider />

    @* Needed for dialogs *@
    <MudDialogProvider />

    @* Needed for snackbars *@
    <MudSnackbarProvider />
    <MudLayout>
        <MudAppBar>
            <MudText Typo="Typo.h5"
                     Class="ml-3">Exams Application</MudText>
            <MudSpacer />
            <MudIconButton Icon="@Icons.Material.Filled.MoreVert"
                           Color="Color.Inherit"
                           Edge="Edge.End" />
        </MudAppBar>
        <MudMainContent>
            <AuthorizeView>
                <Authorized>
                    Hello @context.User.Identity?.Name
                    <a href="@($"https://localhost:5002/{context.User.FindFirst("bff:logout_url")?.Value}")">Log out</a>
                </Authorized>
                <Authorizing>Determining Auth State</Authorizing>
                <NotAuthorized>
                    <a href="https://localhost:5002/bff/login">login</a>
                </NotAuthorized>
            </AuthorizeView>
            <div>
                @Body
            </div>
        </MudMainContent>
    </MudLayout>
</MudRTLProvider>
